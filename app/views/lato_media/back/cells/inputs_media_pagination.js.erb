var modal = $('#<%= @name %>-modal')

<% # Update medias on index list %>
<% if @medias && !@medias.empty? %>

  var modalIndex = $(modal).find('.cells-inputs-media__media-index')

  $(modalIndex).html('')

  <% @medias.each do |media| %>

    <% preview =LatoMedia::Elements::Preview::Cell.new(media: media, class: 'xs-6 sm-4 md-3 lg-3',
       url: "/lato/media/cells/inputs_media_select?id=#{media.id}&name=#{@name}", remote: true) %>

    $(modalIndex).append('<%=j preview.show.html_safe %>')

  <% end %>

<% end %>

<% # Update pagination buttons %>
<% if @medias && !@medias.empty? %>

  <% pagination = LatoCore::Elements::Pagination::Cell.new(total: @pagination_total, remote: true,
  url: '/lato/media/cells/inputs_media_pagination', extra_params: { name: @name, per_page: @per_page }, current: @page) %>

  var modalPagination = $(modal).find('.cells-inputs-media__media-pagination')

  $(modalPagination).html('<%=j pagination.show.html_safe %>')

<% end %>